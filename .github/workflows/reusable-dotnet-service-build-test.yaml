name: Reusable workflow example

on: push

jobs:
  dot_net_build_and_test:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3
        with:
          repository: ${{ github.repository }}
          path: .

      - name: Read .NET versions from config file
        id: read-dotnet-versions
        run: |
          echo "::set-output name=dotnet-versions::$(cat dotnet-versions.txt)"

      - name: Setup .NET Core
        uses: actions/setup-dotnet@v3
        with:
          dotnet-version: ${{ steps.read-dotnet-versions.outputs.dotnet-versions }}
